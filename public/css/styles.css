/* Classic 5x5 - Base + Powers (same style) */

@import url('https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible+Next:wght@400;500;700;800&display=swap');

:root{
  --bg:#0b0f16;
  --bg2:#101828;

  --text:#e9efff;
  --muted:rgba(233,239,255,.70);
  --muted2:rgba(233,239,255,.45);

  --blue:#2F6BFF;
  --red:#E23B3B;
  --gray:#96A2B5;

  --gold:#F5C542;
  --purple:#6A4C93;

  --shadow: 0 18px 60px rgba(0,0,0,.55);
  --shadow2: 0 14px 34px rgba(0,0,0,.55);
  --shadow3: 0 8px 18px rgba(0,0,0,.55);

  --inset: inset 0 1px 0 rgba(255,255,255,.10);
  --inset2: inset 0 -1px 0 rgba(0,0,0,.65);

  --frameW: 1320px;
  --sideW: 320px;
  --gap: 16px;
}

.namer{
  display: flex;
flex-direction: column;
    align-items: center;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }

body{
  margin:0;
  font-family: "Atkinson Hyperlegible Next", "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  color:var(--text);

  background:
  url("../assets/bg-room.jpg") center/cover no-repeat fixed,
  radial-gradient(1200px 650px at 50% 30%, rgba(255,255,255,.05), transparent 60%),
  radial-gradient(900px 600px at 25% 35%, rgba(47,107,255,.16), transparent 60%),
  radial-gradient(900px 600px at 75% 35%, rgba(226,59,59,.14), transparent 60%),
  radial-gradient(900px 700px at 50% 75%, rgba(106,76,147,.16), transparent 60%),
  linear-gradient(180deg, var(--bg), var(--bg2));
}

button,
input,
select,
textarea{
  font: inherit;
}

.homeScene{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:28px 18px 30px;
}

.homeFrame{
  width:min(1180px, 100%);
  border-radius: 26px;
  border:1px solid rgba(255,255,255,.10);
  background:
    linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.012)),
    rgba(7,10,16,.62);
  box-shadow: 0 30px 90px rgba(0,0,0,.62);
  padding:26px;
}

.homeHeader{
  text-align:center;
  margin-bottom:22px;
}

.homeEyebrow{
  font-size:12px;
  letter-spacing:.18em;
  text-transform:uppercase;
  color: var(--muted2);
  font-weight:900;
}

.homeTitle{
  margin:8px 0 6px;
  font-size:58px;
  line-height:1;
  letter-spacing:.04em;
  text-transform: uppercase;
  font-weight: 1000;
  text-shadow: 0 8px 26px rgba(22,34,60,.44);
}

.homeSubtitle{
  margin:0;
  color: var(--muted);
  font-weight:700;
  font-size: 16px;
}

.homeGrid{
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap:16px;
}

.homeCard{
  border-radius: 20px;
  border:1px solid rgba(255,255,255,.12);
  background:
    linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02)),
    rgba(0,0,0,.28);
  box-shadow: var(--inset), var(--inset2), inset 0 0 0 1px rgba(0,0,0,.50);
  padding:18px;
}

.homeCard h2{
  margin:0 0 2px;
  font-size:25px;
  letter-spacing: .01em;
}

.homeCard p{
  margin:8px 0 14px;
  color: var(--muted);
  font-weight:800;
  line-height: 1.45;
  min-height: 36px;
}

.homeJoinRow{
  display:flex;
  gap:10px;
}

.homeInput{
  width:100%;
  border:1px solid rgba(255,255,255,.16);
  background: rgba(0,0,0,.25);
  color: rgba(233,239,255,.96);
  border-radius: 12px;
  padding:11px 12px;
  font-weight:900;
  text-transform:uppercase;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.45);
  outline:none;
}

.homeInput::placeholder{
  color: var(--muted2);
}

.homeBtnStack{
  display:flex;
  flex-direction:column;
  gap:10px;
}

.homeBtnPrimary,
.homeBtnGhost{
  border-radius: 12px;
  padding:11px 12px;
  font-weight:1000;
  border:1px solid rgba(255,255,255,.16);
  cursor:pointer;
  user-select:none;
}

.homeBtnPrimary{
  color:#cfe0ff;
  border-color: rgba(47,107,255,.30);
  background:
    linear-gradient(180deg, rgba(47,107,255,.22), rgba(47,107,255,.06)),
    linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.02)),
    linear-gradient(180deg, rgba(0,0,0,.18), rgba(0,0,0,.44));
  box-shadow:
    0 0 22px rgba(47,107,255,.18),
    var(--shadow3),
    inset 0 0 0 1px rgba(47,107,255,.16),
    var(--inset),
    inset 0 0 0 1px rgba(0,0,0,.45);
}

.homeBtnPrimary:disabled{
  opacity:.5;
  cursor:not-allowed;
}

.homeBtnGhost{
  color: rgba(233,239,255,.92);
  background:
    linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.02)),
    rgba(0,0,0,.22);
  box-shadow: var(--shadow3), var(--inset), inset 0 0 0 1px rgba(0,0,0,.55);
}

.homeBtnPrimary:hover,
.homeBtnGhost:hover{
  filter:brightness(1.05);
}

.homeFrame{
  position: relative;
  overflow: hidden;
}

.homeFrame::before{
  content:"";
  position:absolute;
  inset:-2px;
  background:
    radial-gradient(720px 280px at 10% 0%, rgba(80,145,255,.18), transparent 55%),
    radial-gradient(720px 280px at 90% 0%, rgba(255,120,120,.14), transparent 55%);
  pointer-events:none;
}

.homeHeader{
  position: relative;
  z-index: 1;
}

.homeTitle{
  font-size: 52px;
  letter-spacing: .03em;
}

.homeSubtitle{
  max-width: 720px;
  margin: 0 auto;
}

.homeGrid{
  position: relative;
  z-index: 1;
}

.homeCard{
  transition: transform .18s ease, border-color .18s ease, box-shadow .18s ease;
}

.homeCard:hover{
  transform: translateY(-2px);
  border-color: rgba(255,255,255,.2);
  box-shadow: 0 16px 36px rgba(0,0,0,.42), var(--inset), var(--inset2), inset 0 0 0 1px rgba(0,0,0,.50);
}

.homeCardFeature{
  border-color: rgba(255,255,255,.18);
  background:
    linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.02)),
    radial-gradient(600px 240px at 0% 0%, rgba(80,145,255,.14), transparent 60%),
    rgba(0,0,0,.30);
}

.homeInput{
  transition: border-color .14s ease, box-shadow .14s ease;
}

.homeInput:focus{
  border-color: rgba(160,205,255,.5);
  box-shadow:
    0 0 0 3px rgba(47,107,255,.2),
    inset 0 0 0 1px rgba(0,0,0,.45);
}

.homeBtnPrimary,
.homeBtnGhost{
  transition: transform .1s ease, filter .16s ease, box-shadow .16s ease;
}

.homeBtnPrimary:hover,
.homeBtnGhost:hover{
  box-shadow: 0 12px 22px rgba(0,0,0,.34), var(--inset), inset 0 0 0 1px rgba(0,0,0,.55);
}

.homeBtnPrimary:active,
.homeBtnGhost:active{
  transform: translateY(1px);
}

.homeTopCards{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap:16px;
  margin-bottom:16px;
  position: relative;
  z-index: 1;
}

.homeHeroChips{
  margin-top:12px;
  display:flex;
  flex-wrap:wrap;
  align-items:center;
  justify-content:center;
  gap:8px;
}

.homeHeroChip{
  padding:6px 10px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.16);
  background: rgba(255,255,255,.07);
  font-size:11px;
  letter-spacing:.11em;
  text-transform:uppercase;
  font-weight:900;
  color: rgba(233,239,255,.9);
}

.homeCardJoin{
  background:
    linear-gradient(180deg, rgba(89,146,255,.17), rgba(255,255,255,.02)),
    rgba(0,0,0,.30);
}

.homeCardCreate{
  background:
    linear-gradient(180deg, rgba(255,182,93,.15), rgba(255,255,255,.02)),
    rgba(0,0,0,.30);
}

.homeCardQuick{
  background:
    linear-gradient(180deg, rgba(118,226,178,.14), rgba(255,255,255,.02)),
    rgba(0,0,0,.30);
}

/* Home page redesign (scoped) */
.homeScene{
  --home-accent: #ff7d2f;
  --home-accent-soft: rgba(255,125,47,.26);
  --home-cool: #2fd3bf;
  --home-cool-soft: rgba(47,211,191,.20);
  --home-ink: #f8eee2;
  --home-muted: rgba(248,238,226,.76);
  position: relative;
  padding: 36px 20px 40px;
}

.homeScene::before{
  content:"";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(980px 540px at 8% 4%, rgba(255,126,66,.22), transparent 62%),
    radial-gradient(860px 500px at 95% 6%, rgba(58,218,198,.20), transparent 62%),
    conic-gradient(from 220deg at 50% 120%, rgba(255,125,47,.10), rgba(47,211,191,.10), rgba(255,125,47,.10));
  opacity: .9;
}

.homeScene .homeFrame{
  width:min(1240px, 100%);
  border-radius: 34px;
  border:1px solid rgba(248,238,226,.22);
  background:
    linear-gradient(142deg, rgba(255,255,255,.14), rgba(255,255,255,.02) 48%),
    rgba(8,10,14,.76);
  box-shadow:
    0 40px 100px rgba(0,0,0,.58),
    inset 0 1px 0 rgba(255,255,255,.15);
  padding:30px 28px;
  position: relative;
  overflow: hidden;
  display:grid;
  gap:20px;
  grid-template-columns: minmax(0, 1.2fr) minmax(320px, .8fr);
  grid-template-areas:
    "hero side"
    "actions side";
}

.homeScene .homeFrame::before{
  content:"";
  position:absolute;
  inset: -40px -10px auto -10px;
  height: 260px;
  pointer-events: none;
  background:
    linear-gradient(90deg, rgba(255,125,47,.20), rgba(47,211,191,.20)),
    radial-gradient(700px 220px at 20% 0%, rgba(255,192,132,.24), transparent 65%);
  mask-image: linear-gradient(180deg, rgba(0,0,0,.9), transparent 74%);
}

.homeScene .homeHeader{
  grid-area: hero;
  text-align: left;
  margin-bottom: 0;
  padding: 8px 2px 2px;
  z-index: 1;
}

.homeScene .homeEyebrow{
  color: rgba(248,238,226,.62);
}

.homeScene .homeTitle{
  margin: 10px 0 10px;
  font-size: clamp(44px, 7vw, 76px);
  line-height: .9;
  letter-spacing: .015em;
  color: var(--home-ink);
  text-shadow: 0 14px 38px rgba(0,0,0,.38);
}

.homeScene .homeSubtitle{
  margin: 0;
  color: var(--home-muted);
  max-width: 62ch;
  font-size: 17px;
  line-height: 1.5;
}

.homeScene .homeHeroChips{
  justify-content:flex-start;
  margin-top: 16px;
  gap: 10px;
}

.homeScene .homeHeroChip{
  padding:8px 12px;
  border-radius: 999px;
  border:1px solid rgba(248,238,226,.25);
  background:
    linear-gradient(180deg, rgba(255,255,255,.20), rgba(255,255,255,.04)),
    rgba(0,0,0,.22);
  color: rgba(248,238,226,.92);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.12), 0 8px 18px rgba(0,0,0,.22);
}

.homeScene .homeTopCards{
  grid-area: side;
  margin-bottom: 0;
  display:flex;
  flex-direction:column;
  gap:16px;
  z-index: 1;
}

.homeScene .homeGrid{
  grid-area: actions;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap:16px;
  z-index: 1;
}

.homeScene .homeCard{
  border-radius: 24px;
  border:1px solid rgba(248,238,226,.20);
  background:
    linear-gradient(180deg, rgba(255,255,255,.15), rgba(255,255,255,.03)),
    rgba(0,0,0,.30);
  box-shadow:
    0 14px 34px rgba(0,0,0,.35),
    inset 0 1px 0 rgba(255,255,255,.10),
    inset 0 0 0 1px rgba(0,0,0,.46);
  padding:20px;
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}

.homeScene .homeCard:hover{
  transform: translateY(-3px);
  border-color: rgba(248,238,226,.32);
  box-shadow:
    0 20px 42px rgba(0,0,0,.42),
    inset 0 1px 0 rgba(255,255,255,.14),
    inset 0 0 0 1px rgba(0,0,0,.50);
}

.homeScene .homeCardFeature{
  background:
    linear-gradient(180deg, rgba(255,255,255,.18), rgba(255,255,255,.04)),
    linear-gradient(145deg, rgba(255,125,47,.18), rgba(47,211,191,.10) 70%),
    rgba(0,0,0,.30);
}

.homeScene .homeCardJoin{
  background:
    linear-gradient(180deg, rgba(47,211,191,.20), rgba(255,255,255,.03)),
    rgba(0,0,0,.30);
}

.homeScene .homeCardCreate{
  background:
    linear-gradient(180deg, rgba(255,125,47,.20), rgba(255,255,255,.03)),
    rgba(0,0,0,.30);
}

.homeScene .homeCard h2{
  font-size: 27px;
  color: var(--home-ink);
}

.homeScene .homeCard p{
  color: var(--home-muted);
  font-weight: 400;
}

.homeScene .homeInput{
  border:1px solid rgba(248,238,226,.26);
  background:
    linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.02)),
    rgba(5,8,12,.56);
  color: #fff6ec;
  border-radius: 14px;
  padding:12px 13px;
  transition: border-color .16s ease, box-shadow .16s ease, background .16s ease;
}

.homeScene .homeInput::placeholder{
  color: rgba(248,238,226,.48);
}

.homeScene .homeInput:focus{
  border-color: rgba(255,175,129,.74);
  background:
    linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.03)),
    rgba(5,8,12,.62);
  box-shadow:
    0 0 0 3px rgba(255,125,47,.24),
    0 0 18px rgba(255,125,47,.18);
}

.homeScene .homeBtnPrimary,
.homeScene .homeBtnGhost{
  min-height: 46px;
  border-radius: 14px;
  border:1px solid transparent;
  font-weight:1000;
  letter-spacing: .02em;
  transition: transform .11s ease, box-shadow .16s ease, filter .16s ease;
}

.homeScene .homeBtnPrimary{
  color:#fff4e8;
  border-color: rgba(255,176,132,.46);
  background:
    linear-gradient(180deg, rgba(255,152,84,.52), rgba(255,125,47,.26)),
    linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.02));
  box-shadow:
    0 12px 24px rgba(255,125,47,.26),
    inset 0 1px 0 rgba(255,223,195,.20);
}

.homeScene .homeBtnGhost{
  color: rgba(234,253,249,.92);
  border-color: rgba(133,232,217,.38);
  background:
    linear-gradient(180deg, rgba(47,211,191,.24), rgba(47,211,191,.10)),
    linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.02));
  box-shadow: 0 10px 22px rgba(47,211,191,.16), inset 0 1px 0 rgba(255,255,255,.11);
}

.homeScene .homeBtnPrimary:hover,
.homeScene .homeBtnGhost:hover{
  filter: brightness(1.05);
  transform: translateY(-1px);
}

.homeScene .homeBtnPrimary:active,
.homeScene .homeBtnGhost:active{
  transform: translateY(1px);
}

.homeScene .homeBtnPrimary:disabled,
.homeScene .homeBtnGhost:disabled{
  opacity:.56;
  cursor:not-allowed;
}

@media (max-width: 1080px){
  .homeScene .homeFrame{
    grid-template-columns: 1fr;
    grid-template-areas:
      "hero"
      "side"
      "actions";
  }

  .homeScene .homeTopCards{
    display:grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (max-width: 760px){
  .homeScene{
    padding: 20px 12px 24px;
  }

  .homeScene .homeFrame{
    padding:18px 16px;
    border-radius: 22px;
  }

  .homeScene .homeTitle{
    font-size: clamp(34px, 12vw, 50px);
  }

  .homeScene .homeSubtitle{
    font-size: 15px;
  }

  .homeScene .homeTopCards{
    grid-template-columns: 1fr;
  }

  .homeScene .homeGrid{
    grid-template-columns: 1fr;
  }
}

.profileScene{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:22px 18px 26px;
}

.profileFrame{
  width:min(1220px, 100%);
  border-radius: 26px;
  border:1px solid rgba(255,255,255,.08);
  background:
    linear-gradient(180deg, rgba(255,255,255,.035), rgba(255,255,255,.012)),
    rgba(7,10,16,.58);
  box-shadow: var(--shadow);
  padding:24px;
}

.profileHeader{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:16px;
  margin-bottom:16px;
}

.profileEyebrow{
  font-size:12px;
  letter-spacing:.18em;
  text-transform:uppercase;
  color: var(--muted2);
  font-weight:900;
}

.profileTitle{
  margin:8px 0 6px;
  font-size:42px;
  line-height:1;
}

.profileSubtitle{
  margin:0;
  color: var(--muted);
  font-weight:700;
}

.profileHeaderActions{
  display:flex;
  gap:10px;
}

.profileGrid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap:14px;
}

.profileCard{
  border-radius: 18px;
  border:1px solid rgba(255,255,255,.12);
  background:
    linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02)),
    rgba(0,0,0,.28);
  box-shadow: var(--inset), var(--inset2), inset 0 0 0 1px rgba(0,0,0,.50);
  padding:16px;
}

.profileCard h2{
  margin:0 0 12px;
  font-size:22px;
}

.profileFields{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:10px;
}

.profileFields label,
.profileToggles label{
  display:flex;
  flex-direction:column;
  gap:6px;
  font-size:12px;
  letter-spacing:.08em;
  text-transform:uppercase;
  color: var(--muted2);
  font-weight:900;
}

.profileFields .isWide{
  grid-column: 1 / -1;
}

.profileFields input,
.profileFields select,
.profileFields textarea{
  border:1px solid rgba(255,255,255,.16);
  background: rgba(0,0,0,.25);
  color: rgba(233,239,255,.96);
  border-radius: 12px;
  padding:10px 12px;
  font-weight:900;
  text-transform:none;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.45);
  outline:none;
}

.profileToggles{
  display:flex;
  flex-direction:column;
  gap:10px;
}

.toggleRow{
  flex-direction:row !important;
  align-items:center;
  justify-content:space-between;
  border:1px solid rgba(255,255,255,.12);
  border-radius: 12px;
  padding:10px 12px;
  background: rgba(0,0,0,.18);
}

.toggleRow span{
  color: rgba(233,239,255,.92);
  text-transform:none;
  letter-spacing:.02em;
}

.toggleRow input[type="checkbox"]{
  width:18px;
  height:18px;
  accent-color: #2F6BFF;
}

.profileBtnStack{
  display:flex;
  flex-direction:column;
  gap:10px;
}

.profileDanger{
  border-radius: 12px;
  padding:11px 12px;
  font-weight:1000;
  border:1px solid rgba(226,59,59,.30);
  color:#ffd6d6;
  background:
    linear-gradient(180deg, rgba(226,59,59,.22), rgba(226,59,59,.06)),
    linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.02)),
    linear-gradient(180deg, rgba(0,0,0,.18), rgba(0,0,0,.44));
  box-shadow:
    0 0 22px rgba(226,59,59,.16),
    var(--shadow3),
    inset 0 0 0 1px rgba(226,59,59,.16),
    var(--inset),
    inset 0 0 0 1px rgba(0,0,0,.45);
  cursor:pointer;
}

.profileDanger:hover{
  filter:brightness(1.05);
}

.settingsScene{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:22px 18px 26px;
}

.settingsFrame{
  width:min(1240px, 100%);
  border-radius: 26px;
  border:1px solid rgba(255,255,255,.08);
  background:
    linear-gradient(180deg, rgba(255,255,255,.035), rgba(255,255,255,.012)),
    rgba(7,10,16,.58);
  box-shadow: var(--shadow);
  padding:24px;
}

.settingsHeader{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:16px;
  margin-bottom:16px;
}

.settingsEyebrow{
  font-size:12px;
  letter-spacing:.18em;
  text-transform:uppercase;
  color: var(--muted2);
  font-weight:900;
}

.settingsTitle{
  margin:8px 0 6px;
  font-size:42px;
  line-height:1;
}

.settingsSubtitle{
  margin:0;
  color: var(--muted);
  font-weight:700;
}

.settingsHeaderActions{
  display:flex;
  gap:10px;
}

.settingsGrid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap:14px;
}

.settingsCard{
  border-radius: 18px;
  border:1px solid rgba(255,255,255,.12);
  background:
    linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02)),
    rgba(0,0,0,.28);
  box-shadow: var(--inset), var(--inset2), inset 0 0 0 1px rgba(0,0,0,.50);
  padding:16px;
}

.settingsCard h2{
  margin:0 0 12px;
  font-size:22px;
}

.settingsFields{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:10px;
}

.settingsFields label,
.settingsToggles label{
  display:flex;
  flex-direction:column;
  gap:6px;
  font-size:12px;
  letter-spacing:.08em;
  text-transform:uppercase;
  color: var(--muted2);
  font-weight:900;
}

.settingsFields .isWide{
  grid-column: 1 / -1;
}

.settingsFields input,
.settingsFields select{
  border:1px solid rgba(255,255,255,.16);
  background: rgba(0,0,0,.25);
  color: rgba(233,239,255,.96);
  border-radius: 12px;
  padding:10px 12px;
  font-weight:900;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.45);
  outline:none;
}

.settingsToggles{
  display:flex;
  flex-direction:column;
  gap:10px;
  margin-top:10px;
}

.settingsFooter{
  margin-top:16px;
  display:flex;
  justify-content:flex-end;
  gap:10px;
}

.scene{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:22px 18px 26px;
}

.frame{
  width:max(var(--frameW), 60%);
  border-radius: 26px;
  border:1px solid rgba(255,255,255,.08);
  background:
    linear-gradient(180deg, rgba(255,255,255,.035), rgba(255,255,255,.012)),
    rgba(7,10,16,.58);
  box-shadow: var(--shadow);
  padding:16px;
  position:relative;
  overflow:hidden;
}

.frame::before{
  content:"";
  position:absolute;
  inset:-2px;
  background:
    radial-gradient(900px 600px at 50% 0%, rgba(255,255,255,.08), transparent 58%),
    radial-gradient(1000px 700px at 50% 100%, rgba(0,0,0,.55), transparent 62%);
  pointer-events:none;
  opacity:.9;
}

.frame::after{
  content:"";
  position:absolute;
  inset:10px;
  border-radius: 20px;
  border:1px solid rgba(255,255,255,.06);
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.35);
  pointer-events:none;
  opacity:.8;
}

.layout{
  display:grid;
  grid-template-columns: var(--sideW) 1fr var(--sideW);
  gap: var(--gap);
  align-items:stretch;
  position:relative;
  z-index:1;
}

.toastStack{
  position:absolute;
  top:18px;
  right:18px;
  z-index:25;
  display:flex;
  flex-direction:column;
  gap:8px;
  pointer-events:none;
}

.toast{
  min-width: 240px;
  max-width: 320px;
  padding:10px 12px;
  border-radius: 12px;
  border:1px solid rgba(255,255,255,.14);
  background:
    linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.02)),
    rgba(0,0,0,.45);
  color: rgba(233,239,255,.96);
  font-weight:900;
  box-shadow: var(--shadow3), var(--inset), inset 0 0 0 1px rgba(0,0,0,.52);
  animation: toast-in .24s ease;
}

.toast-success{ border-color: rgba(47,107,255,.42); }
.toast-warning{ border-color: rgba(245,197,66,.42); color: rgba(245,197,66,.96); }
.toast-danger{ border-color: rgba(226,59,59,.45); color: rgba(255,214,214,.96); }

@keyframes toast-in{
  from{ transform:translateY(-6px); opacity:0; }
  to{ transform:translateY(0); opacity:1; }
}

/* HUD */
.hud{
  grid-column:1 / -1;
  display:flex;
  justify-content:center;
  margin:0 0 10px;
}

.hudbar{
  display:flex;
  align-items:center;
  gap:10px;
}

.hudIconBtn{
  height:60px;
  width:60px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  border:1px solid rgba(47,107,255,.30);
  background:
    linear-gradient(180deg, rgba(47,107,255,.22), rgba(47,107,255,.06)),
    linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.02)),
    linear-gradient(180deg, rgba(0,0,0,.18), rgba(0,0,0,.44));
  box-shadow:
    0 0 22px rgba(47,107,255,.18),
    var(--shadow3),
    inset 0 0 0 1px rgba(47,107,255,.16),
    var(--inset),
    inset 0 0 0 1px rgba(0,0,0,.45);
  clip-path: polygon(0% 0%, 92% 0%, 100% 50%, 92% 100%, 0% 100%, 6% 50%);
  color:#cfe0ff;
  cursor:pointer;
  transition: filter .16s ease, transform .1s ease;
}
.hudIconBtn:hover{ filter:brightness(1.06); }
.hudIconBtn:active{ transform:translateY(1px); }
.hudIconBtn:focus-visible{
  outline:2px solid rgba(126,184,255,.9);
  outline-offset:2px;
}

.hudIcon{
  width:24px;
  height:24px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
}
.hudIcon svg{
  width:100%;
  height:100%;
  display:block;
  fill:none;
  stroke:currentColor;
  stroke-width:2;
  stroke-linecap:round;
  stroke-linejoin:round;
}

.plate{
  height:60px;
  min-width:160px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:1000;
  font-size:32px;
  letter-spacing:.4px;
  border:1px solid rgba(255,255,255,.14);
  background:
    linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.03)),
    linear-gradient(180deg, rgba(0,0,0,.18), rgba(0,0,0,.44));
  box-shadow: var(--shadow3), var(--inset), inset 0 0 0 1px rgba(0,0,0,.45);
  clip-path: polygon(0% 0%, 92% 0%, 100% 50%, 92% 100%, 0% 100%, 6% 50%);
  position:relative;
}
.plate::after{
  content:"";
  position:absolute;
  inset:6px;
  clip-path: inherit;
  border:1px solid rgba(255,255,255,.08);
  opacity:.6;
  pointer-events:none;
}
.plate.blue{
  color:#cfe0ff;
  border-color: rgba(47,107,255,.30);
  box-shadow:
    0 0 22px rgba(47,107,255,.18),
    var(--shadow3),
    inset 0 0 0 1px rgba(47,107,255,.20),
    var(--inset),
    inset 0 0 0 1px rgba(0,0,0,.45);
}
.plate.red{
  color:#ffd6d6;
  border-color: rgba(226,59,59,.30);
  box-shadow:
    0 0 22px rgba(226,59,59,.16),
    var(--shadow3),
    inset 0 0 0 1px rgba(226,59,59,.18),
    var(--inset),
    inset 0 0 0 1px rgba(0,0,0,.45);
}

.centerHud{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:10px;
  min-width: 520px;
  position:relative;
  top:-2px;
}

.modeTitle{
  height:46px;
  min-width: 260px;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:0 18px;
  border-radius: 12px;
  border:1px solid rgba(255,255,255,.14);
  background:
    linear-gradient(180deg, rgba(255,255,255,.16), rgba(255,255,255,.03)),
    linear-gradient(180deg, rgba(0,0,0,.18), rgba(0,0,0,.46));
  box-shadow: var(--shadow3), var(--inset), inset 0 0 0 1px rgba(0,0,0,.45);
  font-weight:1000;
  font-size:22px;
  letter-spacing:.6px;
  color: rgba(233,239,255,.96);
  position:relative;
}
.modeTitle::before{
  content:"";
  position:absolute;
  left:12px; right:12px;
  top:-8px;
  height:10px;
  border-radius: 999px;
  background: rgba(255,255,255,.08);
  filter: blur(6px);
  opacity:.65;
  pointer-events:none;
}

.settingsBtn{
  height:60px;
  min-width: 154px;
  padding:0 14px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  font-weight:1000;
  font-size:13px;
  letter-spacing:.14em;
  text-transform:uppercase;
  color:#cfe0ff;
  border:1px solid rgba(47,107,255,.30);
  background:
    linear-gradient(180deg, rgba(47,107,255,.22), rgba(47,107,255,.06)),
    linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.02)),
    linear-gradient(180deg, rgba(0,0,0,.18), rgba(0,0,0,.44));
  box-shadow:
    0 0 22px rgba(47,107,255,.18),
    var(--shadow3),
    inset 0 0 0 1px rgba(47,107,255,.16),
    var(--inset),
    inset 0 0 0 1px rgba(0,0,0,.45);
  clip-path: polygon(0% 0%, 92% 0%, 100% 50%, 92% 100%, 0% 100%, 6% 50%);
  position:relative;
  cursor:pointer;
  user-select:none;
}
.settingsBtn::after{
  content:"";
  position:absolute;
  inset:6px;
  clip-path: inherit;
  border:1px solid rgba(255,255,255,.08);
  opacity:.6;
  pointer-events:none;
}
.settingsBtn:hover{ filter:brightness(1.06); }
.settingsBtn:active{ transform:translateY(1px); }
.settingsBtn .btnIco{
  width:14px;
  height:14px;
}
.homeBackBtn{
  min-width: 110px;
}
.settingsBtn .btnIco img{
  width:100%;
  height:100%;
  display:block;
}

.clueDock{
  width:100%;
  display:flex;
  align-items:center;
  gap:10px;
  padding:10px 12px;
  border-radius: 14px;
  border:1px solid rgba(255,255,255,.14);
  background:
    linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.02)),
    rgba(0,0,0,.30);
  box-shadow: var(--inset), inset 0 0 0 1px rgba(0,0,0,.55);
}

.clueTag{
  font-size:12px;
  letter-spacing:.18em;
  text-transform:uppercase;
  color: var(--muted2);
  white-space:nowrap;
}

.clueInput, .numInput{
  border:1px solid rgba(255,255,255,.16);
  background: rgba(0,0,0,.25);
  color: rgba(233,239,255,.96);
  border-radius: 12px;
  padding:10px 12px;
  font-weight:900;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.45);
  outline:none;
}
.clueInput{
  flex:1;
  direction:rtl;
  font-size:16px;
}
.numInput{
  width:72px;
  text-align:center;
  font-size:16px;
}

.sendBtn{
  padding:10px 14px;
  border-radius: 12px;
  border:1px solid rgba(245,197,66,.30);
  background:
    linear-gradient(180deg, rgba(245,197,66,.18), rgba(245,197,66,.06)),
    rgba(0,0,0,.25);
  color: rgba(245,197,66,.95);
  font-weight:1000;
  cursor:pointer;
  box-shadow: 0 0 14px rgba(245,197,66,.10), var(--inset), inset 0 0 0 1px rgba(0,0,0,.55);
}
.sendBtn:hover{ filter:brightness(1.06); }
.sendBtn:active{ transform:translateY(1px); }

.powerMiniRow{
  width:100%;
  display:flex;
  justify-content:center;
  gap:10px;
}
.miniChip{
  display:flex;
  align-items:center;
  gap:8px;
  padding:8px 10px;
  border-radius: 999px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(0,0,0,.22);
  box-shadow: var(--inset), inset 0 0 0 1px rgba(0,0,0,.45);
}
.chipLabel{
  font-size:11px;
  letter-spacing:.16em;
  text-transform:uppercase;
  color: var(--muted2);
}
.chipValue{
  font-weight:1000;
  color: rgba(233,239,255,.92);
}
.chipValue.locked{ color: rgba(245,197,66,.95); }

/* side panels */
.side{
  border-radius: 22px;
  border:1px solid rgba(255,255,255,.12);
  background:
    linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.015)),
    rgba(0,0,0,.18);
  box-shadow: var(--shadow2), inset 0 0 0 1px rgba(0,0,0,.50);
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:12px;
  overflow:hidden;
  position:relative;
}
.side.blue{
  box-shadow:
    0 0 28px rgba(47,107,255,.08),
    var(--shadow2),
    inset 0 0 0 1px rgba(0,0,0,.50);
}
.side.red{
  box-shadow:
    0 0 28px rgba(226,59,59,.08),
    var(--shadow2),
    inset 0 0 0 1px rgba(0,0,0,.50);
}

.side.isActiveTurn{
  border-color: rgba(255,255,255,.28);
}

.side.blue.isActiveTurn{
  box-shadow:
    0 0 34px rgba(47,107,255,.24),
    var(--shadow2),
    inset 0 0 0 1px rgba(0,0,0,.50);
}

.side.red.isActiveTurn{
  box-shadow:
    0 0 34px rgba(226,59,59,.24),
    var(--shadow2),
    inset 0 0 0 1px rgba(0,0,0,.50);
}

.roleCard{
  border-radius: 18px;
  border:1px solid rgba(255,255,255,.12);
  background:
    linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02)),
    rgba(0,0,0,.28);
  box-shadow: var(--inset), var(--inset2), inset 0 0 0 1px rgba(0,0,0,.50);
  overflow:hidden;
  position:relative;
}

.roleHead{
  padding:10px 12px;
  border-bottom:1px solid rgba(255,255,255,.08);
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  position:relative;
}

.roleHead.blueStrip::before,
.roleHead.redStrip::before{
  content:"";
  position:absolute;
  inset:0;
  opacity:.95;
  pointer-events:none;
  background:
    linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.03));
}
.roleHead.blueStrip::before{
  background:
    linear-gradient(180deg, rgba(47,107,255,.55), rgba(47,107,255,.18)),
    linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.03));
}
.roleHead.redStrip::before{
  background:
    linear-gradient(180deg, rgba(226,59,59,.55), rgba(226,59,59,.18)),
    linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.03));
}

.roleTitle{
  font-weight:1000;
  font-size:18px;
  letter-spacing:.2px;
  position:relative;
  z-index:1;
  text-shadow: 0 1px 0 rgba(0,0,0,.35);
}

.teamPill{
  padding:6px 10px;
  border-radius:999px;
  font-size:12px;
  font-weight:1000;
  letter-spacing:.08em;
  text-transform:uppercase;
  border:1px solid rgba(255,255,255,.14);
  color:var(--muted);
  background: rgba(0,0,0,.25);
  position:relative;
  z-index:1;
}
.teamPill.blue{ border-color: rgba(47,107,255,.30); color: rgba(220,232,255,.95); }
.teamPill.red{  border-color: rgba(226,59,59,.30); color: rgba(255,224,224,.95); }

.userRow{
  padding: 12px;
  display: flex;
  align-items: center;
  gap: 12px;
  flex-direction: row;
  flex-wrap: wrap;
  align-content: center;
  justify-content: space-evenly;
}

.avatar{
  width: 46px;
  height: 46px;
  border-radius: 50%;
  border: 2px solid rgba(255,255,255,.14);
  background:
    radial-gradient(circle at 30% 30%, rgba(255,255,255,.18), rgba(255,255,255,.06));
  box-shadow: 0 10px 18px rgba(0,0,0,.45);
  overflow:hidden;
  flex: 0 0 auto;
}

.avatar img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}

.userMeta{
  display:flex;
  flex-direction:column;
  gap:2px;
  min-width:0;
}
.userName{
  font-weight:1000;
  font-size:16px;
  letter-spacing:.2px;
}
.userSub{
  font-size:12px;
  color: var(--muted);
  font-weight:900;
  letter-spacing:.15px;
}

.miniInfo{
  padding:10px 12px 12px;
  display:flex;
  flex-direction:column;
  gap:8px;
  border-top:1px solid rgba(255,255,255,.08);
  background: rgba(0,0,0,.18);
}
.miniLine{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}
.miniLabel{
  font-size:12px;
  color: var(--muted2);
  letter-spacing:.14em;
  text-transform:uppercase;
  font-weight:900;
}
.miniValue{
  font-weight:1000;
  color: rgba(233,239,255,.88);
}

.turnPill{
  padding:6px 10px;
  border-radius:999px;
  font-size:12px;
  font-weight:1000;
  letter-spacing:.08em;
  text-transform:uppercase;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(0,0,0,.22);
  color: rgba(233,239,255,.80);
}
.turnPill.blue{
  border-color: rgba(47,107,255,.30);
  background: rgba(47,107,255,.12);
  color: rgba(220,232,255,.98);
}
.turnPill.red{
  border-color: rgba(226,59,59,.30);
  background: rgba(226,59,59,.12);
  color: rgba(255,224,224,.98);
}

.hintReadout{
  padding:12px;
  border-top:1px solid rgba(255,255,255,.08);
  background: rgba(0,0,0,.16);
}
.hintLabel{
  font-size:12px;
  color: var(--muted2);
  letter-spacing:.14em;
  text-transform:uppercase;
  font-weight:900;
}
.hintValue{
  margin-top:6px;
  font-weight:1000;
  font-size:18px;
  letter-spacing:.2px;
  color: rgba(233,239,255,.92);
}

/* powers */
.powerBlock{
  padding:12px;
  border-top:1px solid rgba(255,255,255,.08);
  background: rgba(0,0,0,.18);
  display:flex;
  flex-direction:column;
  gap:10px;
}
.powerHeader{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:10px;
}
.powerName{
  font-weight:1000;
  font-size:16px;
}
.powerNote{
  font-size:12px;
  color: var(--muted);
  font-weight:900;
  text-align:right;
  max-width: 54%;
}
.lockedText{
  color: rgba(245,197,66,.92);
}

.streakRow{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding:10px 12px;
  border-radius: 14px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(0,0,0,.22);
  box-shadow: var(--inset), inset 0 0 0 1px rgba(0,0,0,.50);
}
.streakLabel{
  font-weight:1000;
  color: rgba(233,239,255,.90);
}
.streakDots{
  display:flex;
  gap:6px;
}
.dot{
  width:10px; height:10px;
  border-radius:50%;
  background: rgba(255,255,255,.14);
  border:1px solid rgba(255,255,255,.10);
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.35);
}

.diceRow{
  display:flex;
  flex-direction:column;
  gap:10px;
}
.powerBtn{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  padding:12px 14px;
  border-radius: 14px;
  border:1px solid rgba(255,255,255,.16);
  background:
    linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.02)),
    rgba(0,0,0,.22);
  color: rgba(233,239,255,.92);
  font-weight:1000;
  cursor:pointer;
  user-select:none;
  box-shadow: var(--shadow3), var(--inset), inset 0 0 0 1px rgba(0,0,0,.55);
}
.powerBtn:disabled{
  opacity:.55;
  cursor:not-allowed;
}
.powerBtnPurple{
  border-color: rgba(106,76,147,.32);
  box-shadow:
    0 0 16px rgba(106,76,147,.12),
    var(--shadow3),
    var(--inset),
    inset 0 0 0 1px rgba(0,0,0,.55);
}
.btnIco{
  width:22px;
  height:22px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  opacity:.95;
}
.btnIco img{
  width:22px;
  height:22px;
  display:block;
}

.diceHint{
  font-size:12px;
  color: rgba(233,239,255,.65);
  font-weight:900;
  line-height:1.35;
}

.helperGrid{
  display:grid;
  grid-template-columns: 1fr;
  gap:10px;
}

.helperBtn{
  display:flex;
  align-items:center;
  gap:12px;
  padding:12px 14px;
  border-radius: 14px;
  border:1px solid rgba(255,255,255,.16);
  background:
    linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.02)),
    rgba(0,0,0,.22);
  color: rgba(233,239,255,.92);
  font-weight:1000;
  cursor:pointer;
  user-select:none;
  box-shadow: var(--shadow3), var(--inset), inset 0 0 0 1px rgba(0,0,0,.55);
  text-align:left;
}
.helperBtn:hover{ filter:brightness(1.04); }
.helperBtn:active{ transform:translateY(1px); }
.helperSub{
  display:block;
  color: rgba(233,239,255,.60);
  font-weight:900;
  font-size:12px;
  margin-left:44px;
  margin-top:-6px;
}
.helperBtnDim{
  opacity:.55;
  cursor:not-allowed;
}

/* center board */
.center{
  border-radius: 22px;
  border:1px solid rgba(255,255,255,.14);
  background:
    linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.015)),
    rgba(0,0,0,.20);
  box-shadow: var(--shadow2), inset 0 0 0 1px rgba(0,0,0,.60);
  padding:16px 16px 14px;
  display:flex;
  flex-direction:column;
  gap:14px;
  overflow:hidden;
  position:relative;
}

.center::before{
  content:"";
  position:absolute;
  inset:0;
  background:
    url("../assets/bg-panel-texture.png") center/cover no-repeat;
  opacity:.20;
  pointer-events:none;
}

.center::after{
  content:"";
  position:absolute;
  inset:10px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.07);
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.45);
  pointer-events:none;
  opacity:.9;
}

.boardTop{
  position:relative;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:2px 2px 0;
  z-index:1;
}

.hintBar{
  flex:1;
  display:flex;
  align-items:center;
  gap:10px;
  padding:12px 12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.14);
  background:
    linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.02)),
    rgba(0,0,0,.30);
  box-shadow: var(--inset), inset 0 0 0 1px rgba(0,0,0,.55);
}

.turnChip{
  display:flex;
  align-items:center;
  gap:10px;
  padding:12px 12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.14);
  background:
    linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.02)),
    rgba(0,0,0,.30);
  color: rgba(233,239,255,.86);
  font-weight:1000;
  box-shadow: var(--inset), inset 0 0 0 1px rgba(0,0,0,.55);
  white-space:nowrap;
}
.turnBadge{
  padding:6px 10px;
  border-radius:999px;
  font-size:12px;
  font-weight:1000;
  letter-spacing:.08em;
  border:1px solid rgba(47,107,255,.28);
  background: rgba(47,107,255,.14);
  color: rgba(220,232,255,.98);
  text-transform:uppercase;
  box-shadow: 0 0 14px rgba(47,107,255,.12);
}
.turnBadge.red{
  border-color: rgba(226,59,59,.30);
  background: rgba(226,59,59,.14);
  color: rgba(255,224,224,.98);
  box-shadow: 0 0 14px rgba(226,59,59,.12);
}

.turnPulse{
  animation: turn-pulse .72s ease;
}

@keyframes turn-pulse{
  0%{ transform: scale(1); filter: brightness(1); }
  40%{ transform: scale(1.035); filter: brightness(1.15); }
  100%{ transform: scale(1); filter: brightness(1); }
}

/* cards */
.grid{
  position:relative;
  z-index:1;
  display:grid;
  grid-template-columns: repeat(5, 1fr);
  gap:12px;
  padding:6px 6px 2px;
}

.card{
  height:106px;
  border-radius: 10px;
  border:1px solid rgba(255,255,255,.16);
  padding:0;
  background:
    linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.02)),
    rgba(0,0,0,.28);
  box-shadow: var(--shadow3), var(--inset), inset 0 0 0 1px rgba(0,0,0,.55);
  overflow:hidden;
  position:relative;
  user-select:none;
  cursor:pointer;
  transition: transform .16s ease, filter .2s ease, box-shadow .2s ease;
  perspective: 900px;
  transform: translateZ(0);
  will-change: transform, filter, box-shadow;
}
.card:hover{ filter:brightness(1.05); }
.card:active{ transform: translateY(1px); }

.card:disabled{
  cursor:default;
}

.cardInner{
  position:relative;
  width:100%;
  height:100%;
  transform-style: preserve-3d;
  transition: transform .5s cubic-bezier(.22,.7,.2,1);
  will-change: transform;
}

.card.isRevealed .cardInner{
  transform: rotateY(180deg);
}

.card.isPendingReveal .cardInner{
  animation: suspense-card 1s cubic-bezier(.2,.75,.2,1);
}

.card.isPendingReveal .cardFront{
  border-color: rgba(245,197,66,.62);
  box-shadow:
    0 0 24px rgba(245,197,66,.22),
    var(--shadow3),
    var(--inset),
    inset 0 0 0 1px rgba(0,0,0,.55);
}

.card.isPendingReveal .cardTxt{
  animation: suspense-text 1s ease;
}

.card.fx-correct{
  animation: reveal-correct .85s cubic-bezier(.2,.75,.2,1);
}

.card.fx-correct .cardBack{
  animation: correct-glow .85s ease;
  box-shadow:
    0 0 24px rgba(47,107,255,.20),
    0 0 12px rgba(245,197,66,.14),
    var(--shadow3),
    var(--inset),
    inset 0 0 0 1px rgba(0,0,0,.55);
}

.card.fx-correct .cardTxt{
  animation: text-correct .85s ease;
}

.card.fx-wrong{
  animation: reveal-wrong .62s cubic-bezier(.36,.07,.19,.97);
}

.card.fx-wrong .cardBack{
  animation: wrong-flash .62s ease;
}

.card.fx-assassin{
  animation: reveal-assassin .92s cubic-bezier(.2,.75,.2,1);
}

.card.fx-assassin .cardBack{
  animation: assassin-glow .92s ease;
  box-shadow:
    0 0 36px rgba(245,197,66,.32),
    0 0 18px rgba(226,59,59,.24),
    var(--shadow3),
    var(--inset),
    inset 0 0 0 1px rgba(0,0,0,.55);
}

.cardFace{
  position:absolute;
  inset:0;
  backface-visibility:hidden;
  border-radius: inherit;
  border:1px solid rgba(255,255,255,.16);
  background:
    linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.02)),
    rgba(0,0,0,.28);
  box-shadow: var(--shadow3), var(--inset), inset 0 0 0 1px rgba(0,0,0,.55);
}

.cardFace::after{
  content:"";
  position:absolute;
  inset:6px;
  border-radius: 7px;
  border:1px solid rgba(255,255,255,.08);
  pointer-events:none;
  opacity:.75;
}

.cardBack{
  transform: rotateY(180deg);
}

.card.isHiddenCard .cardFront{
  border-color: rgba(255,255,255,.16);
}

@keyframes suspense-card{
  0%{ transform: scale(1); filter: brightness(1); }
  30%{ transform: scale(1.045); filter: brightness(1.2); }
  65%{ transform: scale(1.02); filter: brightness(1.1); }
  100%{ transform: scale(1); filter: brightness(1); }
}

@keyframes suspense-text{
  0%{ letter-spacing:.2px; }
  50%{ letter-spacing:.9px; }
  100%{ letter-spacing:.2px; }
}

@keyframes reveal-correct{
  0%{ transform: scale(1); filter: brightness(1); }
  28%{ transform: scale(1.07); filter: brightness(1.22); }
  62%{ transform: scale(1.025); filter: brightness(1.1); }
  100%{ transform: scale(1); filter: brightness(1); }
}

@keyframes text-correct{
  0%{ letter-spacing:.2px; }
  35%{ letter-spacing:1.05px; }
  100%{ letter-spacing:.2px; }
}

@keyframes reveal-wrong{
  0%{ transform: translateX(0); filter: brightness(1); }
  20%{ transform: translateX(-8px); filter: brightness(1.12); }
  40%{ transform: translateX(8px); }
  60%{ transform: translateX(-6px); }
  80%{ transform: translateX(5px); }
  100%{ transform: translateX(0); filter: brightness(1); }
}

@keyframes reveal-assassin{
  0%{ transform: scale(1); filter: brightness(1); }
  22%{ transform: scale(1.065); filter: brightness(1.34); }
  52%{ transform: scale(0.97); filter: brightness(.9); }
  78%{ transform: scale(1.03); filter: brightness(1.16); }
  100%{ transform: scale(1); filter: brightness(1); }
}

@keyframes correct-glow{
  0%{ box-shadow: 0 0 0 rgba(47,107,255,0), 0 0 0 rgba(245,197,66,0), var(--shadow3), var(--inset), inset 0 0 0 1px rgba(0,0,0,.55); }
  35%{ box-shadow: 0 0 34px rgba(47,107,255,.34), 0 0 18px rgba(245,197,66,.24), var(--shadow3), var(--inset), inset 0 0 0 1px rgba(0,0,0,.55); }
  100%{ box-shadow: 0 0 24px rgba(47,107,255,.20), 0 0 12px rgba(245,197,66,.14), var(--shadow3), var(--inset), inset 0 0 0 1px rgba(0,0,0,.55); }
}

@keyframes wrong-flash{
  0%{ filter: brightness(1); }
  30%{ filter: brightness(1.18) saturate(1.15); }
  100%{ filter: brightness(1); }
}

@keyframes assassin-glow{
  0%{ box-shadow: 0 0 0 rgba(245,197,66,0), 0 0 0 rgba(226,59,59,0), var(--shadow3), var(--inset), inset 0 0 0 1px rgba(0,0,0,.55); }
  38%{ box-shadow: 0 0 44px rgba(245,197,66,.42), 0 0 24px rgba(226,59,59,.26), var(--shadow3), var(--inset), inset 0 0 0 1px rgba(0,0,0,.55); }
  100%{ box-shadow: 0 0 36px rgba(245,197,66,.32), 0 0 18px rgba(226,59,59,.24), var(--shadow3), var(--inset), inset 0 0 0 1px rgba(0,0,0,.55); }
}

.cardImg{
  height:44%;
  border-bottom:1px solid rgba(255,255,255,.10);
  opacity:.95;
  background-size:cover;
  background-position:center;
  background-repeat:no-repeat;
  background-image:
    radial-gradient(circle at 30% 30%, rgba(255,255,255,.14), rgba(255,255,255,.03));
}

.cardTxt{
  height:56%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:24px;
  font-weight:1000;
  letter-spacing:.2px;
  color: rgba(233,239,255,.96);
  direction:rtl;
  text-shadow: 0 2px 0 rgba(0,0,0,.35);
}

/* colors */
.cardBack.isBlue{
  border-color: rgba(47,107,255,.55);
  background:
    linear-gradient(180deg, rgba(47,107,255,.48), rgba(0,0,0,.28));
  box-shadow:
    0 0 18px rgba(47,107,255,.14),
    var(--shadow3),
    var(--inset),
    inset 0 0 0 1px rgba(0,0,0,.55);
}
.cardBack.isRed{
  border-color: rgba(226,59,59,.55);
  background:
    linear-gradient(180deg, rgba(226,59,59,.46), rgba(0,0,0,.28));
  box-shadow:
    0 0 18px rgba(226,59,59,.14),
    var(--shadow3),
    var(--inset),
    inset 0 0 0 1px rgba(0,0,0,.55);
}
.cardBack.isNeutral{
  border-color: rgba(255,255,255,.16);
}
.cardBack.isAssassin{
  border-color: rgba(245,197,66,.55);
  background:
    linear-gradient(180deg, rgba(245,197,66,.26), rgba(0,0,0,.30));
  box-shadow:
    0 0 18px rgba(245,197,66,.10),
    var(--shadow3),
    var(--inset),
    inset 0 0 0 1px rgba(0,0,0,.55);
}

.assassinMark{
  position:absolute;
  right:8px;
  top:6px;
  width:22px;
  height:22px;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius: 8px;
  border:1px solid rgba(0,0,0,.45);
  background: rgba(0,0,0,.35);
  color: rgba(245,197,66,.96);
  font-weight:1000;
  text-shadow: 0 1px 0 rgba(0,0,0,.35);
  z-index:2;
}

/* bottom */
.bottomBar{
  position:relative;
  z-index:1;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:12px;
  padding:10px 6px 2px;
}

.bottomClueDock{
  width:100%;
  max-width: 620px;
  margin-top: 2px;
}

.bigBtn{
  min-width: 240px;
  padding:14px 16px;
  border-radius: 14px;
  border:1px solid rgba(255,255,255,.16);
  background:
    linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.02)),
    rgba(0,0,0,.30);
  color: rgba(233,239,255,.96);
  font-weight:1000;
  font-size:18px;
  letter-spacing:.3px;
  cursor:pointer;
  user-select:none;
  box-shadow: var(--shadow3), var(--inset), inset 0 0 0 1px rgba(0,0,0,.55);
  transition: transform .06s ease, filter .15s ease;
}
.bigBtn:hover{ filter:brightness(1.06); }
.bigBtn:active{ transform:translateY(1px); }

/* responsive (keeps desktop look, adapts on phones) */

/* 1) soften widths and allow HUD to wrap on smaller desktops/tablets */
@media (max-width: 1260px){
  :root{
    --sideW: 290px;
    --gap: 14px;
  }
  .hudbar{
    flex-wrap: wrap;
    justify-content:center;
    row-gap:12px;
  }
  .centerHud{
    min-width: unset;
    width: min(760px, 100%);
  }
}

/* 2) phone/tablet: stack sections and show board first (after HUD) */
@media (max-width: 980px){
  :root{
    --sideW: 100%;
    --gap: 12px;
  }

  .homeGrid{
    grid-template-columns: 1fr;
  }

  .homeTitle{
    font-size:36px;
  }

  .profileHeader{
    flex-direction:column;
  }

  .settingsHeader{
    flex-direction:column;
  }

  .profileHeaderActions{
    width:100%;
  }

  .settingsHeaderActions{
    width:100%;
  }

  .profileHeaderActions .homeBtnGhost,
  .profileHeaderActions .homeBtnPrimary{
    flex:1;
  }

  .settingsHeaderActions .homeBtnGhost,
  .settingsHeaderActions .homeBtnPrimary{
    flex:1;
  }

  .profileGrid{
    grid-template-columns: 1fr;
  }

  .settingsGrid{
    grid-template-columns: 1fr;
  }

  .profileFields{
    grid-template-columns: 1fr;
  }

  .settingsFields{
    grid-template-columns: 1fr;
  }

  body{
    /* mobile browsers often struggle with fixed backgrounds */
    background-attachment: scroll;
  }

  .scene{
    padding: 14px 10px 18px;
    align-items: flex-start;
  }

  .frame{
    padding: 12px;
  }

  .layout{
    grid-template-columns: 1fr;
    grid-template-areas:
      "hud"
      "center"
      "blue"
      "red";
  }

  .hud{ grid-area: hud; }
  .center{ grid-area: center; }
  .side.blue{ grid-area: blue; }
  .side.red{ grid-area: red; }

  .hud{
    margin: 0 0 8px;
  }

  .hudbar{
    width: 100%;
    justify-content: center;
  }

  .plate{
    min-width: clamp(96px, 26vw, 150px);
    height: clamp(46px, 12vw, 60px);
    font-size: clamp(22px, 6vw, 32px);
  }

  .hudIconBtn{
    width: clamp(46px, 12vw, 60px);
    height: clamp(46px, 12vw, 60px);
  }

  .settingsBtn{
    min-width: clamp(110px, 28vw, 154px);
    height: clamp(46px, 12vw, 60px);
  }

  .centerHud{
    width: 100%;
    min-width: unset;
  }

  .modeTitle{
    width: 100%;
    min-width: unset;
  }

  .clueDock{
    width: 100%;
  }

  .center{
    padding: 14px 14px 12px;
  }
}

/* 3) small phones: tighten spacing, make inputs/buttons stack, scale board */
@media (max-width: 560px){
  :root{
    --gap: 10px;
  }

  .homeFrame{
    padding: 14px;
  }

  .profileFrame{
    padding:14px;
  }

  .settingsFrame{
    padding:14px;
  }

  .homeJoinRow{
    flex-direction: column;
  }

  .homeTitle{
    font-size:30px;
  }

  .settingsTitle{
    font-size:32px;
  }

  .frame{
    border-radius: 22px;
  }

  .clueDock{
    flex-wrap: wrap;
    gap: 10px;
    padding: 10px;
  }

  .clueTag{
    flex: 0 0 auto;
  }

  .clueInput{
    flex: 1 1 100%;
    width: 100%;
    font-size: 15px;
  }

  .numInput{
    width: 86px;
    font-size: 15px;
  }

  .sendBtn{
    width: 100%;
  }

  .powerMiniRow{
    flex-wrap: wrap;
  }

  .miniChip{
    flex: 1 1 auto;
    justify-content: center;
  }

  .boardTop{
    flex-wrap: wrap;
    gap: 10px;
  }

  .turnChip{
    width: 100%;
    justify-content: center;
  }

  .grid{
    gap: 8px;
    padding: 4px 4px 2px;
  }

  .card{
    height: clamp(62px, 18vw, 94px);
  }

  .cardImg{
    height: 40%;
  }

  .cardTxt{
    font-size: clamp(14px, 4.2vw, 20px);
  }

  .bigBtn{
    width: 100%;
    min-width: 0;
  }

  .toastStack{
    left:10px;
    right:10px;
    top:10px;
  }

  .toast{
    min-width: 0;
    max-width: 100%;
  }

  .settingsFooter{
    flex-direction:column;
  }
}

/* 4) very small phones */
@media (max-width: 380px){
  .grid{
    gap: 6px;
  }

  .card{
    height: 58px;
  }

  .cardTxt{
    font-size: 13px;
  }

  .plate{
    min-width: 92px;
    height: 46px;
    font-size: 22px;
  }

  .modeTitle{
    font-size: 18px;
  }
}
